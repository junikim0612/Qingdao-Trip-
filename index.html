<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì¹­ë‹¤ì˜¤ ì—¬í–‰ ì¼ì •í‘œ</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
<style>
  :root {
    --navy: #0F1923;
    --gold: #C9A96E;
    --gold-light: #E2CFA0;
    --cream: #FBF8F2;
    --white: #fff;
    --text: #1A1A1A;
    --muted: #8A8A8A;
    --meal: #C4785A;
    --spot: #5A8F7A;
    --move: #5A7FA0;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Pretendard', -apple-system, sans-serif;
    background: var(--navy);
    min-height: 100vh;
    display: flex; align-items: center; justify-content: center;
    padding: 20px;
  }

  /* INTRO OVERLAY */
  .intro-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: var(--navy);
    display: flex; align-items: center; justify-content: center;
    flex-direction: column;
    z-index: 9999;
    transition: opacity 1s ease, visibility 1s ease;
  }
  .intro-overlay.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }
  .intro-overlay::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background:
      radial-gradient(ellipse 600px 400px at 30% 40%, rgba(201,169,110,0.08) 0%, transparent 70%),
      radial-gradient(ellipse 500px 300px at 70% 60%, rgba(90,127,160,0.06) 0%, transparent 70%);
  }
  .intro-content {
    position: relative;
    text-align: center;
    animation: introFade 1.5s ease-out;
  }
  @keyframes introFade {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .intro-emoji {
    font-size: 48px;
    margin-bottom: 20px;
  }
  .intro-eyebrow {
    font-family: 'Outfit', sans-serif;
    font-size: 11px;
    letter-spacing: 5px;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 12px;
  }
  .intro-title {
    font-family: 'DM Serif Display', serif;
    font-size: clamp(48px, 10vw, 80px);
    color: var(--white);
    line-height: 1;
    margin-bottom: 8px;
  }
  .intro-sub {
    font-size: 15px;
    font-weight: 300;
    color: rgba(255,255,255,0.35);
    letter-spacing: 3px;
    margin-bottom: 40px;
  }
  .intro-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: transparent;
    border: 1px solid var(--gold);
    color: var(--gold);
    font-family: 'Pretendard', sans-serif;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 1px;
    padding: 14px 36px;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  .intro-btn:hover {
    background: var(--gold);
    color: var(--navy);
  }
  .intro-btn svg {
    width: 16px; height: 16px;
    fill: currentColor;
  }
  .intro-date {
    font-family: 'Outfit', sans-serif;
    font-size: 12px;
    color: rgba(255,255,255,0.25);
    margin-top: 24px;
  }

  /* MUSIC CONTROL */
  .music-ctrl {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    background: var(--navy);
    border: 1px solid rgba(201,169,110,0.3);
    color: var(--gold);
    width: 44px; height: 44px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    font-size: 18px;
    transition: all 0.3s;
    opacity: 0;
    visibility: hidden;
  }
  .music-ctrl.show {
    opacity: 1;
    visibility: visible;
  }
  .music-ctrl:hover {
    background: var(--gold);
    color: var(--navy);
  }

  /* POSTER */
  .poster {
    width: 1080px; max-width: 100%;
    background: var(--cream);
    border-radius: 16px; overflow: hidden;
    box-shadow: 0 40px 80px rgba(0,0,0,0.5);
  }
  .header {
    background: var(--navy);
    padding: 28px 36px 22px;
    display: flex; align-items: flex-end; justify-content: space-between;
    gap: 16px; position: relative; overflow: hidden;
  }
  .header::before {
    content: ''; position: absolute;
    top: 0; right: 0; bottom: 0; width: 40%;
    background: radial-gradient(ellipse at 80% 50%, rgba(201,169,110,0.12) 0%, transparent 70%);
  }
  .header-left { position: relative; }
  .header-eyebrow {
    font-family: 'Outfit', sans-serif;
    font-size: 10px; letter-spacing: 4px; text-transform: uppercase;
    color: var(--gold); margin-bottom: 4px; font-weight: 500;
  }
  .header-title {
    font-family: 'DM Serif Display', serif;
    font-size: 40px; color: var(--white); line-height: 1;
  }
  .header-title span {
    font-family: 'Pretendard', sans-serif;
    font-size: 15px; font-weight: 300;
    color: rgba(255,255,255,0.4); margin-left: 10px; letter-spacing: 3px;
  }
  .header-right {
    position: relative; display: flex; gap: 20px; align-items: center;
  }
  .flight-badge {
    text-align: center; padding: 6px 14px;
    border: 1px solid rgba(255,255,255,0.1); border-radius: 6px;
  }
  .flight-badge-label {
    font-family: 'Outfit', sans-serif;
    font-size: 8px; letter-spacing: 2px; color: var(--gold); text-transform: uppercase;
  }
  .flight-badge-route {
    font-family: 'DM Serif Display', serif;
    font-size: 16px; color: var(--white); margin: 1px 0;
  }
  .flight-badge-time { font-size: 10px; color: rgba(255,255,255,0.35); }
  .header-info { text-align: right; position: relative; }
  .header-date { font-family: 'Outfit', sans-serif; font-size: 12px; color: rgba(255,255,255,0.55); }
  .header-duration { font-size: 11px; color: var(--gold); font-weight: 500; margin-top: 1px; }
  .body {
    padding: 20px 28px 22px;
    display: grid; grid-template-columns: repeat(4, 1fr);
  }
  .day-col {
    padding: 0 12px;
    border-right: 1px solid #E8E2D6;
  }
  .day-col:last-child { border-right: none; }
  .day-col:first-child { padding-left: 0; }
  .day-col:last-child { padding-right: 0; }
  .day-label {
    display: flex; align-items: center; gap: 7px;
    margin-bottom: 8px; padding-bottom: 6px;
    border-bottom: 2px solid var(--navy);
  }
  .day-num {
    font-family: 'DM Serif Display', serif;
    font-size: 26px; color: var(--navy); line-height: 1;
  }
  .day-date-text { font-size: 11px; font-weight: 600; color: var(--navy); line-height: 1.2; }
  .day-weekday {
    font-family: 'Outfit', sans-serif;
    font-size: 9px; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; line-height: 1.2;
  }
  .day-theme {
    display: inline-block;
    font-size: 9px; font-weight: 700; letter-spacing: 0.5px;
    color: var(--white);
    background: var(--navy);
    padding: 3px 9px; border-radius: 3px; margin-bottom: 10px;
  }
  .sched-list { display: flex; flex-direction: column; gap: 2px; }
  .sched-item {
    display: flex; gap: 0; align-items: flex-start; padding: 2.5px 0;
  }
  .sched-time-area {
    display: flex; align-items: baseline;
    min-width: 80px; width: 80px; flex-shrink: 0; padding-top: 1px;
  }
  .sched-time {
    font-family: 'Outfit', sans-serif;
    font-size: 10px; font-weight: 500; color: var(--muted);
    min-width: 34px;
  }
  .sched-badge {
    font-size: 8px; font-weight: 700; letter-spacing: 0.3px;
    padding: 1px 5px; border-radius: 2px; white-space: nowrap;
    text-align: center; min-width: 30px;
  }
  .badge-meal { background: rgba(196,120,90,0.15); color: var(--meal); }
  .badge-spot { background: rgba(90,143,122,0.15); color: var(--spot); }
  .badge-move { background: rgba(90,127,160,0.15); color: var(--move); }
  .badge-flight { background: rgba(201,169,110,0.15); color: var(--gold); }
  .sched-content { flex: 1; }
  .sched-text { font-size: 11px; font-weight: 500; color: var(--text); line-height: 1.4; }
  .sched-sub { font-size: 9.5px; font-weight: 400; color: var(--muted); }
  .sched-cn {
    font-size: 10px; color: #888; font-weight: 400;
    margin-top: 1px; user-select: all; cursor: text;
    letter-spacing: 0.5px;
  }
  hr.sched-divider { border: none; border-top: 1px dashed #E0D9CC; margin: 4px 0; }
  .flight-strip {
    background: var(--navy); border-radius: 5px;
    padding: 6px 8px; margin: 4px 0;
    display: flex; align-items: center; justify-content: center; gap: 8px;
  }
  .fs-city { font-family: 'DM Serif Display', serif; font-size: 13px; color: var(--white); }
  .fs-arrow { color: var(--gold); font-family: 'Outfit', sans-serif; font-size: 9px; }
  .footer-bar {
    background: var(--navy); padding: 12px 28px;
    display: flex; align-items: center; justify-content: space-between;
  }
  .footer-legend { display: flex; gap: 16px; }
  .legend-item {
    display: flex; align-items: center; gap: 4px;
    font-size: 9px; color: rgba(255,255,255,0.5);
  }
  .legend-badge {
    font-size: 8px; font-weight: 700; padding: 1px 5px; border-radius: 2px;
  }
  .footer-tagline {
    font-family: 'DM Serif Display', serif;
    font-size: 13px; color: var(--gold-light);
  }

  @media (max-width: 900px) {
    .body { grid-template-columns: repeat(2, 1fr); gap: 16px 0; }
    .day-col:nth-child(2) { border-right: none; }
    .day-col:nth-child(3) { padding-left: 0; }
  }
  @media (max-width: 520px) {
    .body { grid-template-columns: 1fr; gap: 16px; }
    .day-col { border-right: none !important; border-bottom: 1px solid #E8E2D6; padding: 0 0 12px !important; }
    .day-col:last-child { border-bottom: none; }
    .header { flex-direction: column; align-items: flex-start; gap: 12px; }
    .header-right { align-self: flex-start; flex-wrap: wrap; }
    .header-info { text-align: left; }
    .footer-bar { flex-direction: column; gap: 6px; }
  }
  @media print {
    body { background: white; padding: 0; }
    .poster { box-shadow: none; border-radius: 0; }
    .intro-overlay, .music-ctrl { display: none !important; }
  }
</style>
</head>
<body>

<!-- INTRO OVERLAY -->
<div class="intro-overlay" id="intro">
  <div class="intro-content">
    <div class="intro-emoji">âœˆï¸</div>
    <div class="intro-eyebrow">Travel Itinerary</div>
    <div class="intro-title">Qingdao</div>
    <div class="intro-sub">ì¹­ë‹¤ì˜¤ ì—¬í–‰</div>
    <button class="intro-btn" id="startBtn" onclick="startTrip()">
      <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      ì—¬í–‰ ì‹œì‘í•˜ê¸°
    </button>
    <div class="intro-date">2025. 3. 10 â€” 13 Â· 3ë°• 4ì¼</div>
  </div>
</div>

<!-- MUSIC CONTROL -->
<div class="music-ctrl" id="musicBtn" onclick="toggleMusic()">â™ª</div>

<!-- POSTER -->
<div class="poster">
  <div class="header">
    <div class="header-left">
      <div class="header-eyebrow">Travel Itinerary Â· 3N4D</div>
      <div class="header-title">Qingdao <span>ì¹­ë‹¤ì˜¤ ì—¬í–‰</span></div>
    </div>
    <div class="header-right">
      <div class="flight-badge">
        <div class="flight-badge-label">ê°€ëŠ”í¸</div>
        <div class="flight-badge-route">ICN â†’ TAO</div>
        <div class="flight-badge-time">15:25 â†’ 16:15 (í˜„ì§€)</div>
      </div>
      <div class="flight-badge">
        <div class="flight-badge-label">ì˜¤ëŠ”í¸</div>
        <div class="flight-badge-route">TAO â†’ ICN</div>
        <div class="flight-badge-time">17:15 â†’ 19:45</div>
      </div>
      <div class="header-info">
        <div class="header-date">2025. 3. 10 â€” 13</div>
        <div class="header-duration">Jin Air âœˆ</div>
      </div>
    </div>
  </div>

  <div class="body">
    <!-- DAY 1 -->
    <div class="day-col">
      <div class="day-label">
        <div class="day-num">01</div>
        <div style="display:flex;flex-direction:column"><div class="day-date-text">3ì›” 10ì¼</div><div class="day-weekday">Tuesday</div></div>
      </div>
      <div class="day-theme">ì¶œë°œ & ë„ì°©</div>
      <div class="sched-list">
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">08:00</span></div><div class="sched-content"><div class="sched-text">ê¸°ìƒ</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">09:00</span><span class="sched-badge badge-move">ì´ë™</span></div><div class="sched-content"><div class="sched-text">í™ì„± ì§‘ ì¶œë°œ</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">09:30</span><span class="sched-badge badge-move">ì´ë™</span></div><div class="sched-content"><div class="sched-text">ì¸ì²œê³µí•­ 2í„°ë¯¸ë„ ì¶œë°œ</div><div class="sched-sub">ì•½ 2ì‹œê°„+</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">11:30</span></div><div class="sched-content"><div class="sched-text">ì¸ì²œê³µí•­ ë„ì°©</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">12:00</span></div><div class="sched-content"><div class="sched-text">ë³´ë”©</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">13:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ì¶œêµ­ì‹¬ì‚¬ & ê³µí•­ ì ì‹¬</div></div></div>
        <hr class="sched-divider">
        <div class="flight-strip"><div class="fs-city">ICN</div><div class="fs-arrow">15:25 â”€ âœˆ â”€ 16:15</div><div class="fs-city">TAO</div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">17:30</span></div><div class="sched-content"><div class="sched-text">ì…êµ­ì‹¬ì‚¬ & ìˆ™ì†Œì´ë™</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">18:30</span></div><div class="sched-content"><div class="sched-text">ìˆ™ì†Œ ë„ì°© Â· ì²´í¬ì¸</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">19:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ì£¼ë³€ ì €ë…ì‹ì‚¬</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">20:30</span></div><div class="sched-content"><div class="sched-text">í¸ì˜ì  Â· ë§ˆë¬´ë¦¬</div></div></div>
      </div>
    </div>

    <!-- DAY 2 -->
    <div class="day-col">
      <div class="day-label">
        <div class="day-num">02</div>
        <div style="display:flex;flex-direction:column"><div class="day-date-text">3ì›” 11ì¼</div><div class="day-weekday">Wednesday</div></div>
      </div>
      <div class="day-theme">ì”êµ Â· ì™„ìƒì²­ Â· 54ê´‘ì¥</div>
      <div class="sched-list">
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">09:00</span></div><div class="sched-content"><div class="sched-text">ê¸°ìƒ Â· ì¡°ì‹ (ë¦¬ì„œ)</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">10:00</span><span class="sched-badge badge-move">ì´ë™</span></div><div class="sched-content"><div class="sched-text">ì”êµë¡œ ì¶œë°œ</div><div class="sched-sub">30ë¶„</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">10:30</span><span class="sched-badge badge-spot">ê´€ê´‘</span></div><div class="sched-content"><div class="sched-text">ì”êµ / ì¤‘ì‚°ë¡œ / ì€ì–´í•­</div><div class="sched-cn">æ ˆæ¡¥ / ä¸­å±±è·¯ / é“¶é±¼å··</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">12:30</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ë©”ì´ë‹¤ì–¼ ì‹ì‚¬</div><div class="sched-sub">ê°€ì§€íŠ€ê¹€ ìœ ëª… ğŸ†</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">14:00</span><span class="sched-badge badge-spot">ê´€ê´‘</span></div><div class="sched-content"><div class="sched-text">ì„±ë¯¸ì¹´ì—˜ ì„±ë‹¹</div><div class="sched-cn">åœ£å¼¥å„å°”ä¸»æ•™åº§å ‚</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">15:00</span></div><div class="sched-content"><div class="sched-text">ìˆ™ì†Œ ë³µê·€ Â· íœ´ì‹</div></div></div>
        <hr class="sched-divider">
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">17:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ì™„ìƒì²­ 5ì¸µ (ë£¨ìœ„)</div><div class="sched-sub">ìƒì„ ìš”ë¦¬ ìœ ëª… ğŸŸ</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">18:00</span><span class="sched-badge badge-spot">ê´€ê´‘</span></div><div class="sched-content"><div class="sched-text">ì™„ìƒì²­ íˆ¬ì–´</div><div class="sched-cn">é’å²›ä¸‡è±¡åŸ</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">19:00</span><span class="sched-badge badge-spot">ê´€ê´‘</span></div><div class="sched-content"><div class="sched-text">54ê´‘ì¥ ë ˆì´ì €ì‡¼ âœ¨</div><div class="sched-cn">äº”å››å¹¿åœº</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">20:00</span></div><div class="sched-content"><div class="sched-text">ìˆ™ì†Œ ë³µê·€</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">21:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ìš”íŠ¸ì„ ì°©ì¥ Â· ì–‘ê¼¬ì¹˜ ğŸº</div><div class="sched-cn">é’å²›å¥¥æ—åŒ¹å…‹å¸†èˆ¹ä¸­å¿ƒ</div></div></div>
      </div>
    </div>

    <!-- DAY 3 -->
    <div class="day-col">
      <div class="day-label">
        <div class="day-num">03</div>
        <div style="display:flex;flex-direction:column"><div class="day-date-text">3ì›” 12ì¼</div><div class="day-weekday">Thursday</div></div>
      </div>
      <div class="day-theme">ë§¥ì£¼ë°•ë¬¼ê´€ Â· ì”¨ëª¨ë£¨ Â· ë¶ˆì•¼ì„±</div>
      <div class="sched-list">
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">09:00</span></div><div class="sched-content"><div class="sched-text">ê¸°ìƒ Â· ì¡°ì‹ (ë¦¬ì„œ)</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">10:00</span><span class="sched-badge badge-spot">ê´€ê´‘</span></div><div class="sched-content"><div class="sched-text">ì¹­ë‹¤ì˜¤ ë§¥ì£¼ë°•ë¬¼ê´€ ğŸ»</div><div class="sched-cn">é’å²›å•¤é…’åšç‰©é¦†</div><div class="sched-sub">ì´ë™ 30ë¶„</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">12:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ì£¼ë³€ ì ì‹¬</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">13:00</span><span class="sched-badge badge-spot">ê´€ê´‘</span></div><div class="sched-content"><div class="sched-text">ì”¨ëª¨ë£¨ ì‹œì¥</div><div class="sched-cn">å³å¢¨è·¯å°å•†å“å¸‚åœº</div><div class="sched-sub">ê°€ì§€íŠ€ê¹€ ìœ ëª… ğŸ†</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">14:30</span></div><div class="sched-content"><div class="sched-text">ìˆ™ì†Œ ë³µê·€ Â· íœ´ì‹</div></div></div>
        <hr class="sched-divider">
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">17:30</span><span class="sched-badge badge-move">ì´ë™</span></div><div class="sched-content"><div class="sched-text">ë¶ˆì•¼ì„± or ì™„ìƒì²­ ì‡¼í•‘</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">18:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ë¶ˆì•¼ì„± íˆ¬ì–´ & ì €ë…</div><div class="sched-cn">æ˜æœˆå±±æµ·é—´ä¸å¤œåŸ</div><div class="sched-sub">ìƒì„ ìš”ë¦¬ ìœ ëª… ğŸŸ</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">20:00</span></div><div class="sched-content"><div class="sched-text">ìˆ™ì†Œ ë³µê·€ (ì·¨ì¹¨)</div></div></div>
      </div>
    </div>

    <!-- DAY 4 -->
    <div class="day-col">
      <div class="day-label">
        <div class="day-num">04</div>
        <div style="display:flex;flex-direction:column"><div class="day-date-text">3ì›” 13ì¼</div><div class="day-weekday">Friday</div></div>
      </div>
      <div class="day-theme">ê·€êµ­</div>
      <div class="sched-list">
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">09:00</span></div><div class="sched-content"><div class="sched-text">ê¸°ìƒ Â· ì¡°ì‹ (ë¦¬ì„œ)</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">12:00</span></div><div class="sched-content"><div class="sched-text">ì²´í¬ì•„ì›ƒ</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">12:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ì£¼ë³€ ì ì‹¬ ì‹ì‚¬</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">13:30</span><span class="sched-badge badge-move">ì´ë™</span></div><div class="sched-content"><div class="sched-text">ì¹­ë‹¤ì˜¤ ê³µí•­ ì¶œë°œ</div><div class="sched-sub">ì•½ 1ì‹œê°„+</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">15:00</span></div><div class="sched-content"><div class="sched-text">ê³µí•­ ë³´ë”©</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">16:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ì¶œêµ­ì‹¬ì‚¬ & ê°„ì‹</div></div></div>
        <hr class="sched-divider">
        <div class="flight-strip"><div class="fs-city">TAO</div><div class="fs-arrow">17:15 â”€ âœˆ â”€ 19:45</div><div class="fs-city">ICN</div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">20:30</span></div><div class="sched-content"><div class="sched-text">ì…êµ­ì‹¬ì‚¬ & ìˆ˜í™”ë¬¼</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">21:00</span><span class="sched-badge badge-meal">ì‹ì‚¬</span></div><div class="sched-content"><div class="sched-text">ëŠ¦ì€ ì €ë… (ì´ë™ ì¤‘)</div><div class="sched-sub">ì´ë™ ì•½ 2ì‹œê°„+</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">22:30</span></div><div class="sched-content"><div class="sched-text">ë‚´í¬ ì§‘ ë„ì°©</div></div></div>
        <div class="sched-item"><div class="sched-time-area"><span class="sched-time">23:00</span></div><div class="sched-content"><div class="sched-text">ì•„ë²„ì§€ ëª¨ì…”ë‹¤ ë“œë¦¬ê¸°</div></div></div>
      </div>
    </div>
  </div>

  <div class="footer-bar">
    <div class="footer-legend">
      <div class="legend-item"><span class="legend-badge sched-badge badge-meal">ì‹ì‚¬</span></div>
      <div class="legend-item"><span class="legend-badge sched-badge badge-spot">ê´€ê´‘</span></div>
      <div class="legend-item"><span class="legend-badge sched-badge badge-move">ì´ë™</span></div>
      <div class="legend-item"><span class="legend-badge sched-badge badge-flight">ë¹„í–‰</span></div>
    </div>
    <div class="footer-tagline">Have a great trip! ğŸº</div>
  </div>
</div>

<script>
// ===== PIANO JAZZ BGM (Web Audio API) =====
let audioCtx, masterGain, isPlaying = false, loopId = null;

function createPianoNote(freq, startTime, duration, velocity = 0.3) {
  const osc1 = audioCtx.createOscillator();
  const osc2 = audioCtx.createOscillator();
  const osc3 = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  const filter = audioCtx.createBiquadFilter();

  // Piano-like timbre: fundamental + harmonics
  osc1.type = 'sine';
  osc1.frequency.value = freq;
  osc2.type = 'sine';
  osc2.frequency.value = freq * 2;
  osc3.type = 'sine';
  osc3.frequency.value = freq * 3;

  const g1 = audioCtx.createGain();
  const g2 = audioCtx.createGain();
  const g3 = audioCtx.createGain();
  g1.gain.value = velocity;
  g2.gain.value = velocity * 0.4;
  g3.gain.value = velocity * 0.15;

  filter.type = 'lowpass';
  filter.frequency.value = 3000;
  filter.Q.value = 1;

  osc1.connect(g1); g1.connect(filter);
  osc2.connect(g2); g2.connect(filter);
  osc3.connect(g3); g3.connect(filter);
  filter.connect(gain);
  gain.connect(masterGain);

  // Piano envelope: fast attack, quick decay, sustain, release
  gain.gain.setValueAtTime(0, startTime);
  gain.gain.linearRampToValueAtTime(velocity, startTime + 0.01);
  gain.gain.exponentialRampToValueAtTime(velocity * 0.5, startTime + 0.1);
  gain.gain.exponentialRampToValueAtTime(velocity * 0.3, startTime + duration * 0.5);
  gain.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

  osc1.start(startTime);
  osc2.start(startTime);
  osc3.start(startTime);
  osc1.stop(startTime + duration + 0.1);
  osc2.stop(startTime + duration + 0.1);
  osc3.stop(startTime + duration + 0.1);
}

function noteToFreq(note) {
  const notes = { 'C':0,'Db':1,'D':2,'Eb':3,'E':4,'F':5,'Gb':6,'G':7,'Ab':8,'A':9,'Bb':10,'B':11 };
  const match = note.match(/^([A-G]b?)(\d)$/);
  const semitone = notes[match[1]];
  const octave = parseInt(match[2]);
  return 440 * Math.pow(2, (semitone - 9) / 12 + (octave - 4));
}

function playChord(notes, startTime, duration, vel = 0.15) {
  notes.forEach(n => {
    createPianoNote(noteToFreq(n), startTime, duration, vel + Math.random() * 0.03);
  });
}

function playMelodyNote(note, startTime, duration, vel = 0.22) {
  createPianoNote(noteToFreq(note), startTime, duration, vel);
}

function scheduleLoop() {
  const now = audioCtx.currentTime + 0.1;
  const bpm = 95;
  const beat = 60 / bpm;

  // Jazz chord progression: Dm7 - G7 - Cmaj7 - Am7 - Dm7 - G7 - Cmaj7 - Fmaj7
  const chords = [
    ['D3','F3','A3','C4'],    // Dm7
    ['G3','B3','D4','F4'],    // G7
    ['C3','E3','G3','B3'],    // Cmaj7
    ['A3','C4','E4','G4'],    // Am7
    ['D3','F3','A3','C4'],    // Dm7
    ['G3','B3','D4','F4'],    // G7
    ['C3','E3','G3','B3'],    // Cmaj7
    ['F3','A3','C4','E4'],    // Fmaj7
  ];

  // Melodic phrases over the chords (jazzy, flowing)
  const melodies = [
    [{n:'F5',t:0,d:0.8},{n:'E5',t:1,d:0.5},{n:'D5',t:1.6,d:0.6},{n:'C5',t:2.4,d:1}],
    [{n:'B4',t:0.2,d:0.6},{n:'D5',t:1,d:0.8},{n:'F5',t:2,d:0.5},{n:'E5',t:2.8,d:0.8}],
    [{n:'E5',t:0,d:1},{n:'G5',t:1.2,d:0.5},{n:'E5',t:2,d:0.6},{n:'C5',t:2.8,d:1}],
    [{n:'A4',t:0.3,d:0.7},{n:'C5',t:1.2,d:0.6},{n:'E5',t:2,d:0.8},{n:'D5',t:3,d:0.8}],
    [{n:'D5',t:0,d:0.5},{n:'F5',t:0.6,d:0.6},{n:'A5',t:1.4,d:0.8},{n:'G5',t:2.4,d:1}],
    [{n:'G5',t:0,d:0.6},{n:'F5',t:0.8,d:0.5},{n:'D5',t:1.5,d:0.7},{n:'B4',t:2.4,d:1}],
    [{n:'C5',t:0.2,d:1},{n:'E5',t:1.5,d:0.6},{n:'G5',t:2.2,d:0.5},{n:'A5',t:3,d:0.8}],
    [{n:'A5',t:0,d:0.7},{n:'G5',t:0.8,d:0.5},{n:'F5',t:1.5,d:0.6},{n:'E5',t:2.4,d:1.2}],
  ];

  chords.forEach((chord, i) => {
    const barStart = now + i * beat * 4;

    // Comping pattern: broken chord with swing feel
    playChord(chord, barStart, beat * 2.5, 0.1);
    playChord(chord, barStart + beat * 2.7, beat * 1.2, 0.08);

    // Light bass note
    const bass = chord[0].replace(/\d/, '2');
    createPianoNote(noteToFreq(bass), barStart, beat * 3, 0.18);
    createPianoNote(noteToFreq(bass), barStart + beat * 3, beat * 0.8, 0.12);

    // Melody
    if (melodies[i]) {
      melodies[i].forEach(m => {
        const vel = 0.18 + Math.random() * 0.06;
        playMelodyNote(m.n, barStart + m.t * beat, m.d * beat, vel);
      });
    }
  });

  const loopDuration = chords.length * beat * 4 * 1000;
  loopId = setTimeout(scheduleLoop, loopDuration - 200);
}

function startMusic() {
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  masterGain = audioCtx.createGain();
  masterGain.gain.value = 0.6;

  // Subtle reverb via delay
  const delay = audioCtx.createDelay();
  delay.delayTime.value = 0.15;
  const feedback = audioCtx.createGain();
  feedback.gain.value = 0.2;
  const delayGain = audioCtx.createGain();
  delayGain.gain.value = 0.3;

  masterGain.connect(audioCtx.destination);
  masterGain.connect(delay);
  delay.connect(feedback);
  feedback.connect(delay);
  delay.connect(delayGain);
  delayGain.connect(audioCtx.destination);

  isPlaying = true;
  scheduleLoop();
}

function stopMusic() {
  isPlaying = false;
  if (loopId) clearTimeout(loopId);
  if (audioCtx) {
    masterGain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.5);
    setTimeout(() => { audioCtx.close(); audioCtx = null; }, 600);
  }
}

function toggleMusic() {
  const btn = document.getElementById('musicBtn');
  if (isPlaying) {
    stopMusic();
    btn.textContent = 'â™ª';
    btn.style.opacity = '0.5';
  } else {
    startMusic();
    btn.textContent = 'â™ª';
    btn.style.opacity = '1';
  }
}

function startTrip() {
  document.getElementById('intro').classList.add('hidden');
  document.getElementById('musicBtn').classList.add('show');
  startMusic();
}
</script>
</body>
</html>

